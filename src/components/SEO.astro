---
export interface Props {
  title?: string;
  description?: string;
  image?: string;
  type?: 'website' | 'article' | 'profile';
  lang?: string;
  keywords?: string[];
  author?: string;
}

const {
  title = 'Martin - Desarrollador Full Stack & Diseñador UX/UI',
  description = 'Desarrollador Full Stack especializado en React, Node.js y diseño UX/UI. Creo aplicaciones web modernas, rápidas y seguras junto a mi equipo.',
  image = '/og-image.jpg',
  type = 'website',
  lang = 'es',
  keywords = [
    'desarrollador full stack',
    'diseñador UX/UI',
    'React',
    'Node.js',
    'desarrollo web',
    'freelancer',
    'aplicaciones web',
    'TypeScript',
    'JavaScript',
    'programador'
  ],
  author = 'Martin Ezequiel'
} = Astro.props;

const canonicalUrl = new URL(Astro.url.pathname, Astro.site);
const imageUrl = new URL(image, Astro.site);
---

<!-- Enhanced Meta Tags -->
<meta name="description" content={description} />
<meta name="keywords" content={keywords.join(', ')} />
<meta name="author" content={author} />
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
<meta name="googlebot" content="index, follow" />

<!-- Canonical URL -->
<link rel="canonical" href={canonicalUrl.href} />

<!-- Open Graph -->
<meta property="og:type" content={type} />
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:image" content={imageUrl.href} />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:image:alt" content={title} />
<meta property="og:url" content={canonicalUrl.href} />
<meta property="og:site_name" content="Martin - Portfolio" />
<meta property="og:locale" content={lang === 'es' ? 'es_ES' : 'en_US'} />

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content={title} />
<meta name="twitter:description" content={description} />
<meta name="twitter:image" content={imageUrl.href} />
<meta name="twitter:image:alt" content={title} />
<meta name="twitter:creator" content="@martindev" />
<meta name="twitter:site" content="@martindev" />

<!-- Additional SEO -->
<meta name="theme-color" content="#0f172a" />
<meta name="msapplication-TileColor" content="#0f172a" />
<meta name="format-detection" content="telephone=no" />

<!-- Language alternates -->
<link rel="alternate" hreflang="es" href={`${canonicalUrl.origin}/?lang=es`} />
<link rel="alternate" hreflang="en" href={`${canonicalUrl.origin}/?lang=en`} />
<link rel="alternate" hreflang="x-default" href={canonicalUrl.origin} />

<!-- JSON-LD Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Person",
      "@id": "https://tu-dominio.web.app/#person",
      "name": "Martin Ezequiel",
      "jobTitle": "Full Stack Developer & UX/UI Designer",
      "description": "Desarrollador Full Stack especializado en React, Node.js y diseño UX/UI",
      "url": "https://tu-dominio.web.app",
      "image": "https://tu-dominio.web.app/og-image.jpg",
      "sameAs": [
        "https://linkedin.com/in/tu-perfil",
        "https://github.com/tu-usuario",
        "https://twitter.com/tu-usuario"
      ],
      "knowsAbout": [
        "React",
        "Node.js",
        "TypeScript",
        "JavaScript",
        "UX/UI Design",
        "Full Stack Development",
        "Web Development",
        "Frontend Development",
        "Backend Development"
      ],
      "hasOccupation": {
        "@type": "Occupation",
        "name": "Full Stack Developer",
        "occupationLocation": {
          "@type": "Country",
          "name": "Argentina"
        }
      }
    },
    {
      "@type": "WebSite",
      "@id": "https://tu-dominio.web.app/#website",
      "url": "https://tu-dominio.web.app",
      "name": "Martin - Portfolio",
      "description": "Portfolio profesional de Martin Ezequiel - Desarrollador Full Stack & Diseñador UX/UI",
      "inLanguage": ["es", "en"],
      "author": {
        "@id": "https://tu-dominio.web.app/#person"
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "https://tu-dominio.web.app/?q={search_term_string}"
        },
        "query-input": "required name=search_term_string"
      }
    },
    {
      "@type": "ProfessionalService",
      "@id": "https://tu-dominio.web.app/#service",
      "name": "Desarrollo Web Full Stack",
      "description": "Servicios de desarrollo web completo incluyendo frontend, backend y diseño UX/UI",
      "provider": {
        "@id": "https://tu-dominio.web.app/#person"
      },
      "serviceType": "Web Development",
      "areaServed": "Worldwide",
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Servicios de Desarrollo Web",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Desarrollo Frontend",
              "description": "Desarrollo de interfaces de usuario con React y tecnologías modernas"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Desarrollo Backend",
              "description": "Desarrollo de APIs y servicios backend con Node.js"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Diseño UX/UI",
              "description": "Diseño de experiencias de usuario centradas en la usabilidad"
            }
          }
        ]
      }
    }
  ]
}
</script>