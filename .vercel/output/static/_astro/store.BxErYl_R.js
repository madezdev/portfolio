let n=[],r=0;const u=4;let f=l=>{let a=[],e={get(){return e.lc||e.listen(()=>{})(),e.value},lc:0,listen(t){return e.lc=a.push(t),()=>{for(let s=r+u;s<n.length;)n[s]===t?n.splice(s,u):s+=u;let o=a.indexOf(t);~o&&(a.splice(o,1),--e.lc||e.off())}},notify(t,o){let s=!n.length;for(let g of a)n.push(g,e.value,t,o);if(s){for(r=0;r<n.length;r+=u)n[r](n[r+1],n[r+2],n[r+3]);n.length=0}},off(){},set(t){let o=e.value;o!==t&&(e.value=t,e.notify(o))},subscribe(t){let o=e.listen(t);return t(e.value),o},value:l};return e};const c=()=>{if(typeof window<"u"){const l=localStorage.getItem("portfolio-language");return l==="en"||l==="es"?l:navigator.language.toLowerCase().startsWith("en")?"en":"es"}return"es"},i=f(c());i.subscribe(l=>{typeof window<"u"&&(localStorage.setItem("portfolio-language",l),document.documentElement.lang=l)});const d=()=>{const l=i.get();i.set(l==="es"?"en":"es")};export{f as a,i as c,d as t};
